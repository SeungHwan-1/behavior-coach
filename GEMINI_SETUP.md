# 🎉 Google Gemini API 무료 설정 가이드

**완전 무료**로 AI 분석 기능을 사용할 수 있습니다!

---

## 🚀 5분만에 설정 완료!

### 1단계: API 키 받기 (1분)

1. [https://aistudio.google.com/app/apikey](https://aistudio.google.com/app/apikey) 방문
2. Google 계정으로 로그인
3. **"Create API key"** 클릭
4. 기존 프로젝트 선택 또는 새 프로젝트 생성
5. API 키 복사 (예: `AIzaSyD...`)

**중요**: API 키는 안전하게 보관하세요!

---

### 2단계: 환경 변수 설정 (30초)

프로젝트의 `.env.local` 파일을 열고:

```env
GEMINI_API_KEY=AIzaSyD-여기에-실제-키-붙여넣기
```

**예시**:
```env
GEMINI_API_KEY=AIzaSyDxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

---

### 3단계: 서버 재시작 (30초)

```bash
cd behavior-coach
npm run dev
```

끝! 이제 완전 무료로 사용 가능합니다! 🎉

---

## 💰 요금 정보

### Gemini 1.5 Flash (현재 사용 중)

**완전 무료!**
- 매일 1,500회 요청 가능
- 분당 15회 요청
- 100% 무료

**충분합니다**:
- 하루 1,500명 사용 가능
- 테스트 및 초기 론칭에 완벽

---

## 🔧 모델 정보

### 현재 사용 중: `gemini-1.5-flash`

**특징**:
- ⚡ **속도**: 매우 빠름 (1-2초)
- 💰 **가격**: 완전 무료
- 🧠 **품질**: GPT-4o-mini와 비슷
- 📝 **길이**: 최대 32K 토큰

**장점**:
- 한국어 지원 우수
- 빠른 응답 속도
- 안정적인 성능

---

## 📊 성능 비교

| 모델 | 속도 | 품질 | 가격 | 무료 제한 |
|------|------|------|------|----------|
| **Gemini Flash** | ⚡⚡⚡ | ⭐⭐⭐⭐ | 무료 | 1,500회/일 |
| GPT-4o-mini | ⚡⚡ | ⭐⭐⭐⭐⭐ | $0.001/회 | ❌ |
| Claude Haiku | ⚡⚡ | ⭐⭐⭐⭐ | $0.002/회 | $5 크레딧 |

---

## 🔍 API 키 확인 방법

### 제대로 설정되었는지 확인:

1. 브라우저에서 [http://localhost:3000](http://localhost:3000) 열기
2. 상황 입력: "데이트 중인데 상대가 핸드폰만 봐요"
3. 분석 버튼 클릭
4. 결과가 나오면 성공! ✅

### 오류가 나면:

#### "API key not valid"
- API 키를 다시 확인하세요
- `.env.local` 파일의 키가 정확한지 확인
- 서버 재시작

#### "Quota exceeded"
- 하루 1,500회 제한 초과
- 내일 다시 시도하거나
- 새 Google 계정으로 API 키 생성

#### "Model not found"
- 인터넷 연결 확인
- Google AI Studio에서 Gemini API가 활성화되었는지 확인

---

## 🎯 사용량 모니터링

### API 사용량 확인:

1. [Google AI Studio](https://aistudio.google.com/) 방문
2. 왼쪽 메뉴 → **"Usage"** 클릭
3. 일일 사용량 확인

**표시 정보**:
- 총 요청 수
- 성공/실패 비율
- 토큰 사용량

---

## 🚀 무료 한도 늘리기

### 방법 1: 여러 계정 사용
- Google 계정 여러 개 만들기
- 각 계정마다 API 키 생성
- 계정 로테이션

### 방법 2: 유료 전환 (필요시)
- Gemini Pro: $0.00025/1K 토큰
- 여전히 OpenAI보다 저렴
- 무제한 사용

---

## 💡 최적화 팁

### 1. 캐싱 활용
- 동일한 질문은 캐시에서 응답
- 벡터 DB 활용 (Supabase)

### 2. 토큰 절약
- 짧고 명확한 프롬프트
- 불필요한 컨텍스트 제거

### 3. 에러 처리
- API 실패시 재시도
- 사용자 친화적 에러 메시지

---

## 🆚 OpenAI vs Gemini

### 왜 Gemini를 선택했나요?

| 비교 항목 | Gemini Flash | GPT-4o-mini |
|----------|--------------|-------------|
| **가격** | ✅ 무료 | ❌ 종량제 |
| **속도** | ✅ 1-2초 | 🟡 2-3초 |
| **품질** | ✅ 우수 | ✅ 매우 우수 |
| **한국어** | ✅ 훌륭 | ✅ 훌륭 |
| **제한** | 1,500/일 | 없음 |

**결론**: 초기 론칭은 Gemini 무료로, 트래픽 증가 시 OpenAI로 전환 추천!

---

## 🔄 OpenAI로 다시 전환하기

나중에 OpenAI를 사용하고 싶다면:

### 1. OpenAI 패키지 설치
```bash
npm install openai
```

### 2. API 코드 복구
`app/api/analyze/route.ts`를 OpenAI 버전으로 변경

### 3. 환경 변수 추가
```env
OPENAI_API_KEY=sk-proj-...
```

간단합니다!

---

## 🐛 문제 해결

### Q: API 키가 작동하지 않아요
**A**:
1. 키를 다시 복사하세요 (공백 없이)
2. `.env.local` 파일 이름 확인 (`.env`가 아님)
3. 서버 재시작 필수!

### Q: "429 Too Many Requests" 오류
**A**:
- 무료 한도 초과 (1,500회/일)
- 내일 다시 시도
- 또는 새 계정으로 API 키 생성

### Q: 응답이 너무 느려요
**A**:
- Gemini Flash는 보통 1-2초
- 인터넷 연결 확인
- 프롬프트 길이 줄이기

### Q: 한국어 품질이 안 좋아요
**A**:
- Gemini 1.5 Flash는 한국어 우수
- 프롬프트를 더 구체적으로 작성
- 예시를 포함하면 품질 향상

---

## 📞 지원

### Google AI Studio
- [공식 문서](https://ai.google.dev/docs)
- [API 레퍼런스](https://ai.google.dev/api/rest)

### 이 프로젝트
- GitHub Issues
- README.md 참고

---

## 🎉 축하합니다!

이제 **완전 무료**로 AI 행동 심리학 코칭 서비스를 사용할 수 있습니다!

**다음 단계**:
1. ✅ 친구들에게 테스트 요청
2. ✅ 피드백 수집
3. ✅ 서비스 개선
4. ✅ 실제 론칭
5. 💰 수익 창출!

**목표**: 하루 1,000명 사용 → 월 광고 수익 200만원! 🚀
